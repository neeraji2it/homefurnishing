<%#= render :partial => "layouts/slider"%>

 
<% @products.each do |p| %>
<div class="col-md-4">

	<p>
		<strong>Name:</strong>
		<%= p.name.capitalize %>
	</p>
	<p>
		<strong>Description:</strong>
		<%= p.description.capitalize %>
	</p>
	<p>
		<strong>Price:</strong>
		<%= p.price %>
	</p>
	<p>
		<strong>Category:</strong>
		<%= p.category.name.capitalize %>
	</p>
	<ul class="bxslider">
								<% for img in p.images %>
								<li>
									<%=image_tag img.avatar.url(:original),:style=>"width:30%;" %>
								</li>

								<% end %>
								</ul>
	 <div class="actions">
  <%= link_to "Add to Cart", line_items_path(:product_id => p), :method => :post %>
    </div>
	<table>

		<% p.images.in_groups_of(3).each do |image| %>
		<tr>
			<%image.each do |img|%>
			<% if img.try(:avatar).present? && img.image_show? %>
			<td>
				<a data-toggle="modal" data-target="#myModal_<%= p.id %>" 	 href="#">
					<%=image_tag img.avatar.url(:small),:style=>"width:300px;height:300px;", :class=>"img-responsive" %>
				</a>
				
				<!-- Bootstrap Modal Body -->
				<!-- Modal -->
				<div class="modal fade" id="myModal_<%= p.id %>" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
								<h4 class="modal-title" id="myModalLabel"><%= p.name %></h4>
							</div>
							<div class="modal-body">
			<p>
				<strong>Category:</strong>
				<%= p.category.name.capitalize %>
			</p>
			<p>
				<strong>Name:</strong>
				<%= p.name.capitalize %>
			</p>
			<p>
				<strong>Description:</strong>
				<%= p.description.capitalize %>
			</p>
			<p>
				<strong>Price:</strong>
				<%= p.price %>
			</p>



							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
							</div>
						</div>
					</div>
				</div>


			</td>
			<td>&nbsp;</td>
			<td>&nbsp;</td>
			<td>&nbsp;</td>
			<%end%>
			<%end%>
		</tr>
		<% end %>
	</table>

</div>




	<!-- <table>
		
 <% p.images.in_groups_of(3).each do |image| %>
		<tr>
				<%image.each do |img|%>
					<% if img.try(:avatar).present? %>
		<td>
		
				<%= image_tag img.avatar.url(:small),:style=>"width:300px;height:300px;", :class => "img-responsive" %>
		</td>
	<td>&nbsp;</td>
	<td>&nbsp;</td>
	<td>&nbsp;</td>
			<%end%>
				<%end%>
		</tr>
					<% end %>
				</table> -->
				
	
	<% end %>

	<style type="text/css">
		.modal-dialog{
			width: 80%;
			height: 100%;
			padding: 0;
			margin: 30;
		}
	</style>

	<style type="text/css">
		h2{
			margin: 0;     
			color: #666;
			padding-top: 90px;
			font-size: 52px;
			font-family: "trebuchet ms", sans-serif;    
		}
		.item{
			background: #333;    
			text-align: center;
			height: 300px !important;
		}
		.carousel{
			margin-top: 20px;
		}
		.bs-example{
			margin: 20px;
		}
	</style>

<script type="text/javascript" charset="utf-8">
  $(function(){
     $(".bxslider").bxSlider()
  })
</script>

